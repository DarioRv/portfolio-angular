@switch (design()) {
  @case ("default") {
    <div
      class="rounded-2xl border border-white/10 bg-white/[0.02] p-3"
      (mouseenter)="pause()"
      (mouseleave)="resume()"
    >
      <div
        class="relative aspect-[16/10] rounded-xl bg-black/40 border border-white/10 overflow-hidden group"
      >
        <!-- Progress bar -->
        <div class="absolute top-0 left-0 right-0 h-1 bg-white/10 z-10">
          <div
            class="h-full bg-primary-500 transition-[width] duration-50 ease-linear"
            [style.width.%]="progress"
          ></div>
        </div>

        <div class="absolute inset-0">
          @if (selectedImage) {
            <img
              [@imageFade]="selectedImage"
              [src]="selectedImage | image"
              class="absolute inset-0 w-full h-full object-cover"
            />
          }
        </div>

        @if (allowFullScreen()) {
          <button
            (click)="openFullScreen()"
            class="absolute bottom-3 right-3 w-9 h-9 flex items-center justify-center rounded-lg bg-black/50 text-white/80 hover:bg-black/70 hover:text-white transition opacity-0 group-hover:opacity-100 z-10"
          >
            <i-lucide name="expand"></i-lucide>
          </button>
        }
      </div>

      <!-- Thumbs -->
      <div
        class="thumbs mt-3 flex gap-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent"
      >
        @for (image of images(); track $index) {
          <img
            class="w-32 shrink-0 aspect-[16/10] rounded-lg border border-white/10 hover:border-white/20 transition cursor-pointer"
            [ngClass]="{
              'border border-primary-500/50 ring-2 ring-primary-500/20':
                selectedImage === image,
            }"
            (click)="selectImage(image)"
            [src]="image | image"
          />
        }
      </div>
    </div>
  }
  @case ("simple") {
    <div
      class="relative aspect-[16/10] bg-black/40 border border-white/10 overflow-hidden group"
      (mouseenter)="pause()"
      (mouseleave)="resume()"
    >
      <div class="absolute top-0 left-0 right-0 h-1 bg-white/10 z-10">
        <div
          class="h-full bg-primary-500 transition-[width] duration-50 ease-linear"
          [style.width.%]="progress"
        ></div>
      </div>

      <div class="absolute inset-0">
        @if (selectedImage) {
          <img
            [@imageFade]="selectedImage"
            [src]="selectedImage | image"
            class="absolute inset-0 w-full h-full object-cover"
          />
        }
      </div>

      @if (allowFullScreen()) {
        <button
          (click)="openFullScreen()"
          class="absolute bottom-3 right-3 w-9 h-9 flex items-center justify-center rounded-lg bg-black/50 text-white/80 hover:bg-black/70 hover:text-white transition opacity-0 group-hover:opacity-100 z-10"
        >
          <i-lucide name="expand"></i-lucide>
        </button>
      }
    </div>
  }
}

@if (allowFullScreen() && isFullScreen()) {
  <dv-image-galery-full-screen
    [images]="images()"
    (closed)="closeFullScreen()"
  />
}
